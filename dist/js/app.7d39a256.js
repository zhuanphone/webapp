(function(t){function e(e){for(var r,a,i=e[0],s=e[1],u=e[2],d=0,l=[];d<i.length;d++)a=i[d],o[a]&&l.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);f&&f(e);while(l.length)l.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(c.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o={app:0},c=[];function i(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-23a9b174":"71214a8a","chunk-279b7f8c":"9ee7f833","chunk-27d01cf7":"4ce14cef","chunk-28726a46":"2d26d9f6","chunk-2ab0424d":"9df5ca4d","chunk-793821bf":"042d7575","chunk-7d249732":"6b269bce","chunk-7f3c75e6":"fa31d12e","chunk-c0364e9e":"264a9513"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-23a9b174":1,"chunk-279b7f8c":1,"chunk-27d01cf7":1,"chunk-28726a46":1,"chunk-2ab0424d":1,"chunk-793821bf":1,"chunk-7d249732":1,"chunk-7f3c75e6":1,"chunk-c0364e9e":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-23a9b174":"e3515191","chunk-279b7f8c":"be8bf08a","chunk-27d01cf7":"8032be15","chunk-28726a46":"1ab61bad","chunk-2ab0424d":"e71bb108","chunk-793821bf":"df02a96d","chunk-7d249732":"3594fc85","chunk-7f3c75e6":"1fa2c68c","chunk-c0364e9e":"b8b55986"}[t]+".css",o=s.p+r,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===o))return e()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){u=l[i],d=u.getAttribute("data-href");if(d===r||d===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.request=r,delete a[t],f.parentNode.removeChild(f),n(c)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)}).then(function(){a[t]=0}));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var c=new Promise(function(e,n){r=o[t]=[e,n]});e.push(r[2]=c);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=i(t),u=function(e){d.onerror=d.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");c.type=r,c.request=a,n[1](c)}o[t]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=d;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"000c":function(t,e,n){},"0dab":function(t,e,n){t.exports=n.p+"img/load_default.0a08f1fd.png"},2484:function(t,e,n){},"2e6d":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5d10":function(t,e,n){},"5e27":function(t,e,n){},"83e2":function(t,e,n){"use strict";var r=n("ee76"),a=n.n(r);a.a},a4aa:function(t,e,n){"use strict";var r=n("c2ee"),a=n.n(r);a.a},c2ee:function(t,e,n){},c772:function(t,e,n){"use strict";var r=n("2e6d"),a=n.n(r);a.a},cd0d:function(t,e,n){"use strict";var r=n("d38c"),a=n.n(r);a.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d"),n("f5df"),n("000c"),n("aa35");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"router-fade",mode:"out-in"}},[n("keep-alive",[n("router-view")],1)],1)],1)},o=[],c=n("d225"),i=n("b0b4"),s=n("308d"),u=n("6bb5"),d=n("4e2b"),l=n("9ab4"),f=n("60a3"),p=n("4bb5"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer-container"},[n("nav",t._l(t.data,function(e){return n("router-link",{key:e.id,attrs:{to:e.path,exact:""}},[n("icon",{attrs:{name:e.icon}}),n("p",[t._v(t._s(e.name))])],1)}),1)])},h=[],b=function(t){function e(){return Object(c["a"])(this,e),Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(f["c"]);l["a"]([Object(f["b"])(Array)],b.prototype,"data",void 0),b=l["a"]([f["a"]],b);var v=b,g=v,O=(n("83e2"),n("2877")),y=Object(O["a"])(g,m,h,!1,null,"6351120d",null),j=y.exports,k=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.isNav=!1,t}return Object(d["a"])(e,t),Object(i["a"])(e,[{key:"onRotuteChanged",value:function(t){console.log("val: ",t);var e=t.meta;this.isNav=e.isNav||!1}},{key:"created",value:function(){var t=this.$route.meta.isNav;this.isNav=t||!1}}]),e}(f["c"]);l["a"]([p["c"]],k.prototype,"navs",void 0),l["a"]([Object(f["d"])("$route")],k.prototype,"onRotuteChanged",null),k=l["a"]([Object(f["a"])({components:{Footer:j}})],k);var _=k,w=_,C=(n("5c0b"),Object(O["a"])(w,a,o,!1,null,null,null)),E=C.exports,x=n("8c4f"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("mt-header",{attrs:{fixed:"",title:"手机二手交易网"}}),n("div",{staticClass:"guess-like-wrap"},[n("GoodsList",{attrs:{data:t.goodsList}})],1)],1)},S=[],R=n("bd86"),A=(n("7f7f"),n("76a0")),I=n("e46b"),L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("swiper",{ref:"bannerSwiper",staticClass:"banner-swiper",attrs:{options:t.swiperOption}},[t._l(t.data,function(t){return n("swiper-slide",{key:t.id||t.activityId},[n("router-link",{attrs:{to:t.isActivity?"/detail/"+t.id:"/activity/"+t.activityId}},[n("img",{attrs:{src:t.src,alt:t.desc}})])],1)}),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},N=[],G=(n("dfa4"),n("7212")),q=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.swiperOption={pagination:{el:".swiper-pagination"}},t}return Object(d["a"])(e,t),Object(i["a"])(e,[{key:"swiper",get:function(){return this.$refs.bannerSwiper.swiper}}]),e}(f["c"]);l["a"]([Object(f["b"])(Array)],q.prototype,"data",void 0),q=l["a"]([Object(f["a"])({components:{swiper:G["swiper"],swiperSlide:G["swiperSlide"]}})],q);var U=q,D=U,P=(n("edec"),Object(O["a"])(D,L,N,!1,null,"f94c8efc",null)),B=P.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quick-nav-box"},[n("nav",{staticClass:"quick-link-nav"},t._l(t.data,function(e){return n("a",{key:e.id,staticClass:"quick-link-item",attrs:{href:"#/"}},[n("span",{staticClass:"quick-box"},[n("img",{attrs:{src:e.icon}}),n("span",{staticClass:"ellipsis"},[t._v(t._s(e.title))])])])}),0)])},M=[],F=function(t){function e(){return Object(c["a"])(this,e),Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(f["c"]);l["a"]([Object(f["b"])(Array)],F.prototype,"data",void 0),F=l["a"]([f["a"]],F);var H=F,Y=H,Q=(n("cd0d"),Object(O["a"])(Y,$,M,!1,null,"3bcde482",null)),z=Q.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"custom-wrap"},t._l(t.data,function(e){return n("div",{key:e.id,staticClass:"custom-box"},[n("p",{staticClass:"column-title"},[t._v(t._s(e.title))]),"activity"===e.type?n("div",{staticClass:"activity-column-box"},[n("ul",{staticClass:"activity-column-content"},t._l(e.imglist,function(t){return n("li",{key:t.id,staticClass:"activity-column-item"},[n("a",{attrs:{href:""}},[n("img",{attrs:{src:t.src}})])])}),0)]):t._e(),"recommend"===e.type?n("div",{staticClass:"recommend-column-box"},[n("div",{staticClass:"recommend-box"},t._l(e.imglist.slice(0,2),function(e){return n("a",{key:e.id,staticClass:"recommend-item recommend-item-col02"},[n("div",{staticClass:"recommend-text"},[n("strong",{staticClass:"recommend-title"},[t._v(t._s(e.title))]),n("p",{staticClass:"recommend-desc ellipsis"},[t._v(t._s(e.desc))])]),n("div",{staticClass:"recommend-img"},[n("img",{attrs:{src:e.src}})])])}),0),n("div",{staticClass:"recommend-box"},t._l(e.imglist.slice(2,6),function(e){return n("a",{key:e.id,staticClass:"recommend-item recommend-item-col04"},[n("div",{staticClass:"recommend-text"},[n("strong",{staticClass:"recommend-title"},[t._v(t._s(e.title))]),n("p",{staticClass:"recommend-desc ellipsis"},[t._v(t._s(e.desc))])]),n("div",{staticClass:"recommend-img"},[n("img",{attrs:{src:e.src}})])])}),0)]):t._e()])}),0)},K=[],V=function(t){function e(){return Object(c["a"])(this,e),Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(f["c"]);l["a"]([Object(f["b"])({type:Array,default:function(){return[]}})],V.prototype,"data",void 0),V=l["a"]([f["a"]],V);var W,X=V,Z=X,tt=(n("d4be"),Object(O["a"])(Z,J,K,!1,null,"5418ae41",null)),et=tt.exports,nt=function(t){function e(){return Object(c["a"])(this,e),Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(i["a"])(e,[{key:"created",value:function(){this.initAjaxShop()}},{key:"mounted",value:function(){}}]),e}(f["c"]);l["a"]([p["c"]],nt.prototype,"navs",void 0),l["a"]([Object(p["c"])(function(t){return t.shop.banners})],nt.prototype,"banners",void 0),l["a"]([Object(p["c"])(function(t){return t.shop.quicknavlist})],nt.prototype,"quicknavlist",void 0),l["a"]([Object(p["c"])(function(t){return t.shop.customs})],nt.prototype,"customs",void 0),l["a"]([Object(p["c"])(function(t){return t.shop.goodsList})],nt.prototype,"goodsList",void 0),l["a"]([Object(p["a"])("shop/initAjaxShop")],nt.prototype,"initAjaxShop",void 0),nt=l["a"]([Object(f["a"])({components:(W={},Object(R["a"])(W,A["Header"].name,A["Header"]),Object(R["a"])(W,A["Button"].name,A["Button"]),Object(R["a"])(W,"Footer",j),Object(R["a"])(W,"GoodsList",I["a"]),Object(R["a"])(W,"BannerSwiper",B),Object(R["a"])(W,"QuickLinkNav",z),Object(R["a"])(W,"CustomColumn",et),W)})],nt);var rt=nt,at=rt,ot=(n("c772"),Object(O["a"])(at,T,S,!1,null,"c090e67c",null)),ct=ot.exports,it=n("d257");r["default"].use(x["a"]);var st=[{path:"/",name:"home",meta:{isNav:!0},component:ct},{path:"/category",name:"category",meta:{isNav:!0},component:function(){return n.e("chunk-23a9b174").then(n.bind(null,"397a"))}},{path:"/cart",name:"cart",component:function(){return n.e("chunk-7f3c75e6").then(n.bind(null,"a10a"))},meta:{requireAuth:!0}},{path:"/order",name:"order",component:function(){return n.e("chunk-793821bf").then(n.bind(null,"bcc0"))},meta:{requireAuth:!1}},{path:"/payorder",name:"payorder",component:function(){return n.e("chunk-7d249732").then(n.bind(null,"2524"))},meta:{requireAuth:!1}},{path:"/paysuc",name:"paysuc",component:function(){return n.e("chunk-2ab0424d").then(n.bind(null,"540e"))}},{path:"/detail/:id",name:"detail",component:function(){return n.e("chunk-27d01cf7").then(n.bind(null,"f574"))}},{path:"/me",name:"me",meta:{isNav:!0,requireAuth:!0},component:function(){return n.e("chunk-28726a46").then(n.bind(null,"0850"))}},{path:"/login",name:"login",component:function(){return n.e("chunk-279b7f8c").then(n.bind(null,"0866"))}},{path:"/register",name:"register",component:function(){return n.e("chunk-c0364e9e").then(n.bind(null,"04e9"))}}],ut=new x["a"]({mode:"history",routes:st,scrollBehavior:function(t,e,n){return n||{x:0,y:0}}});ut.beforeEach(function(t,e,n){if(t.matched.some(function(t){return t.meta.requireAuth})){var r=Object(it["b"])();r?n():n({path:"/login",query:{redirect:t.fullPath}})}else n()});var dt=ut,lt=n("2f62"),ft={nav:[{id:1,icon:"home",name:"首页",path:"/"},{id:3,icon:"cart",name:"购物车",path:"/cart"},{id:4,icon:"me",name:"我",path:"/me"}],url:{basicUrl:"/api/v1"}},pt={navs:ft.nav},mt=pt,ht=(n("96cf"),n("3b8d")),bt="SET_BANNERS",vt="SET_QUICKNAV",gt="SET_CUSTOMS",Ot="SET_GOODSLIST",yt="SET_GOODSINFO",jt="SET_MENULIST",kt="SET_CATEGORYLIST",_t="SET_CARTLIST",wt="SET_SELECT_GOOD",Ct="SET_SELECT_SHOP",Et="SET_SELECT_CART_ALL",xt="SET_BUY_QUANTITY",Tt="SET_BUY_EDIT_STATUS",St="DEL_CART_GOOD",Rt="SET_CURRENT_USER",At="SET_TOKEN",It="ADD_TO_CART",Lt="REMOVE_FROM_CART",Nt="ADD_TO_ORDER",Gt="CHANGE_ORDER_GOOD",qt="SET_ORDER_AMOUNT",Ut="SET_ORDER_USERID",Dt=n("795b"),Pt=n.n(Dt),Bt=n("bc3a"),$t=n.n(Bt),Mt=ft.url.basicUrl,Ft=$t.a.create({baseURL:Mt,withCredentials:!0,timeout:1e4,retry:2,retryDelay:1e3});Ft.interceptors.request.use(function(t){return console.log("config: ",t),t},function(t){return Pt.a.reject(t)}),Ft.interceptors.response.use(function(t){if(t.status>=200&&t.status<300)return t.data;var e=new Error(t.statusText);return e},function(t){if("ECONNABORTED"===t.code&&-1!=t.message.indexOf("timeout")){var e=t.config;if(!e||!e.retry)return Pt.a.reject(t);if(e.__retryCount=e.__retryCount||1,e.__retryCount>=e.retry)return Pt.a.reject(t);e.__retryCount+=1;var n=new Pt.a(function(t){setTimeout(function(){t()},e.retryDelay||1)});return n.then(function(){return Ft(e)})}return Pt.a.reject(t)});var Ht,Yt=Ft;function Qt(){return Yt.get("/goods/list")}function zt(t){return Yt.get("/goods/read/".concat(t))}var Jt,Kt={banners:[],customs:[],goodsList:[],quicknavlist:[],goodInfo:{}},Vt=(Ht={},Object(R["a"])(Ht,bt,function(t,e){t.banners=e}),Object(R["a"])(Ht,vt,function(t,e){t.quicknavlist=e}),Object(R["a"])(Ht,gt,function(t,e){t.customs=e}),Object(R["a"])(Ht,Ot,function(t,e){t.goodsList=e}),Object(R["a"])(Ht,yt,function(t,e){t.goodInfo=e}),Ht),Wt={initAjaxShop:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.dispatch,n("getGoodsList");case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),getGoodsList:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Qt();case 3:r=t.sent,r&&200===r.status&&n(Ot,r.result.list||[]);case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),getGoodsInfo:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,zt(n);case 3:a=t.sent,console.log("res ====>",a),a&&200===a.status&&r(yt,a.result||{});case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),buyCurrentGood:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit;case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},Xt={namespaced:!0,state:Kt,mutations:Vt,actions:Wt};function Zt(){return Yt.get("/category/recommend")}function te(t){return Yt.get("/category/list?categoryId=".concat(t))}var ee,ne=!0,re={industryList:[],moduleList:[]},ae=(Jt={},Object(R["a"])(Jt,jt,function(t,e){t.industryList=e}),Object(R["a"])(Jt,kt,function(t,e){t.moduleList=e}),Jt),oe={getCategoryRecommend:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Zt();case 3:r=t.sent,r&&200===r.code&&(n(jt,r.data.result.industryList),n(kt,r.data.result.moduleList));case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),getCategoryList:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,te(n);case 3:a=t.sent,a&&200===a.code&&r(kt,a.data.result.moduleList);case 5:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},ce={namespaced:ne,state:re,mutations:ae,actions:oe},ie=(n("ac6a"),n("a4bb")),se=n.n(ie);function ue(){return Yt.get("/cart/info")}var de,le=!0,fe=function(t,e){return t.map(e).every(function(t){return t})},pe={cartList:[]},me=(ee={},Object(R["a"])(ee,It,function(t,e){t.cartList.push(e)}),Object(R["a"])(ee,Lt,function(t,e){t.cartList.splice(e,1)}),Object(R["a"])(ee,_t,function(t,e){t.cartInfo=e}),Object(R["a"])(ee,wt,function(t,e){var n=e.id,r=e.sellerId,a=t.cartInfo,o=a.goods,c=a.shops,i=a.gorups,s=a.footer,u=o["good_".concat(n)].fields.checked;o["good_".concat(n)].fields.checked=!u,c["shop_".concat(r)].fields.checked=i["shop_".concat(r)].map(function(t){return o[t].fields.checked}).every(function(t){return t}),s.fields.checkAll.checked=fe(se()(c),function(t){return c[t].fields.checked})}),Object(R["a"])(ee,Ct,function(t,e){var n=e.id,r=t.cartInfo,a=r.goods,o=r.shops,c=r.gorups,i=r.footer,s=o["shop_".concat(n)].fields.checked;o["shop_".concat(n)].fields.checked=!s,c["shop_".concat(n)].map(function(t){return a[t]}).forEach(function(t){t.fields.checked=!s}),i.fields.checkAll.checked=fe(se()(o),function(t){return o[t].fields.checked})}),Object(R["a"])(ee,Et,function(t){var e=t.cartInfo,n=e.goods,r=e.shops,a=e.footer,o=a.fields.checkAll.checked;a.fields.checkAll.checked=!o,se()(r).forEach(function(t){return r[t].fields.checked=!o}),se()(n).forEach(function(t){return n[t].fields.checked=!o})}),Object(R["a"])(ee,xt,function(t,e){var n=e.item,r=e.type,a=t.cartInfo.goods,o=n.id,c=n.fields,i=function(t,e){var n=t.max,r=t.min,a=t.quantity,o=a;if("minus"===e)r===a?Object(A["Toast"])("宝贝不能减了哦"):o-=1;else if("plus"===e)n===a?Object(A["Toast"])("该宝贝不能购买更多了"):o+=1;else if("input"===e){if(a>=n)return Object(A["Toast"])("超出数量范围了"),n;if(0===a)return r}return o};a["good_".concat(o)].fields.quantity.quantity=i(c.quantity,r)}),Object(R["a"])(ee,Tt,function(t,e){var n=e.id,r=t.cartInfo.shops,a=r[n].fields.is11;r[n].fields.is11=!a}),Object(R["a"])(ee,St,function(t,e){var n=t.cartInfo,a=n.goods,o=n.gorups,c=e.id,i=e.fields.sellerId,s="good_".concat(c),u="shop_".concat(i);o[u]=o[u].filter(function(t){return t!=s}),r["default"].delete(a,s)}),ee),he={addToCart:function(t,e){var n=t.commit;console.log("add to cart: ",e),n(It,e)},getCartList:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,ue();case 3:r=t.sent,r&&200===r.code&&n(_t,r.data);case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),selectGood:function(t,e){var n=t.commit,r=e.id,a=e.fields.sellerId;n(wt,{id:r,sellerId:a})},selectShop:function(t,e){var n=t.commit,r=e.id;n(Ct,{id:r})},selectAll:function(t){var e=t.commit;e(Et)},editBuyQuantity:function(t,e){var n=t.commit,r=e.item,a=e.type;n(xt,{item:r,type:a})},editBuyEditStatus:function(t,e){var n=t.commit;n(Tt,{id:e})},delCartGood:function(t,e){var n=t.commit;n(St,e)}},be={cartGoodsCount:function(t){return t.cartList.length},cartList:function(t){return t.cartList},payInfo:function(t){var e=t.cartList,n=0,r=0;return e&&e.forEach(function(t){var e=t.checked;e&&(r+=1,n+=t.originPrice/100*r)}),{quantity:r,totalprice:n}}},ve={namespaced:le,state:pe,mutations:me,actions:he,getters:be},ge=n("5176"),Oe=n.n(ge),ye=n("e814"),je=n.n(ye);n("20d6"),n("7514");function ke(t){return Yt.post("/orders/create",t)}var _e,we={orderInfo:{receiverName:"",receiverAddress:"",receiverPhone:null,total:0,adjustmentTotal:0,releatedGoods:[]}},Ce=(de={},Object(R["a"])(de,Nt,function(t,e){t.orderInfo.releatedGoods.find(function(t){return t.good===e.good})||t.orderInfo.releatedGoods.push({good:e,count:1})}),Object(R["a"])(de,Gt,function(t,e){console.log("data: ",e);var n=t.orderInfo.releatedGoods.findIndex(function(t){return t.good===e.good});t.orderInfo.releatedGoods.splice(n,1,e)}),Object(R["a"])(de,qt,function(t){var e=t.orderInfo.releatedGoods.reduce(function(t,e){return t+e.good.purchasePrice*e.count},0),n=t.orderInfo.releatedGoods.reduce(function(t,e){return"SHIPPING"===e.good.postage||"PAY"===e.good.postage?t+0:t+je()(e.good.postage)},0);t.orderInfo.total=e+n,t.orderInfo.adjustmentTotal=n}),de),Ee={initAjaxShop:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.dispatch,n("initOrderUserId");case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),initOrderUserId:function(t){var e=t.commit,n="222";e(Ut,n)},addToOrder:function(t,e){var n=t.commit;console.log("add to cart: ",e),n(Nt,e),n(qt)},changeOrderGood:function(t,e){var n=t.commit;n(Gt,e),n(qt)},submitOrder:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,console.log("orderInfo: ",n),r=Oe()({},n),a=r.releatedGoods,r.releatedGoods=a.map(function(t){return{good:t.good._id,count:t.count}}),t.next=7,ke(r);case 7:return o=t.sent,console.log("submitOrder res: ",o),o&&o.status,t.abrupt("return",o);case 11:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},xe={goodsOfOrder:function(t){return t.orderInfo.releatedGoods},orderInfo:function(t){return t.orderInfo}},Te={namespaced:!0,state:we,mutations:Ce,actions:Ee,getters:xe};function Se(t){return Yt.post("/auth/login",t)}function Re(t){return Yt.post("/auth/register",t)}var Ae={currentUser:{_id:"",username:"",phone:"",address:[],role:"USER"}},Ie=(_e={},Object(R["a"])(_e,Rt,function(t,e){t.currentUser=e}),Object(R["a"])(_e,At,function(t,e){Object(it["c"])(e)}),_e),Le={initAjaxShop:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.dispatch;case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),login:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,o,c,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Se(n);case 3:return a=t.sent,a&&200===a.status&&(o=a.result,c=o.user,i=o.token,console.log("user: ",c),r(At,i),r(Rt,c)),t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(ht["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,o,c,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Re(n);case 3:return a=t.sent,a&&201===a.status&&(o=a.result,c=o.user,i=o.token,r(At,i),r(Rt,c)),t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},Ne={currentUser:function(t){return t.currentUser}},Ge={namespaced:!0,state:Ae,mutations:Ie,actions:Le,getters:Ne};r["default"].use(lt["a"]);var qe=new lt["a"].Store({state:mt,mutations:{},actions:{},modules:{shop:Xt,category:ce,cart:ve,order:Te,auth:Ge}}),Ue=n("9483");Object(Ue["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":t.iconName}})])},Pe=[],Be=function(t){function e(){return Object(c["a"])(this,e),Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(i["a"])(e,[{key:"iconName",get:function(){return"#icon-".concat(this.name)}}]),e}(f["c"]);l["a"]([Object(f["b"])({required:!0})],Be.prototype,"name",void 0),Be=l["a"]([f["a"]],Be);var $e=Be,Me=$e,Fe=(n("a4aa"),Object(O["a"])(Me,De,Pe,!1,null,null,null)),He=Fe.exports,Ye=n("fe3c"),Qe=n.n(Ye),ze=n("283e"),Je=n.n(ze);"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){Qe.a.attach(document.body)},!1),r["default"].use(Je.a,{preLoad:1.3,error:n("0dab"),loading:n("0dab"),attempt:1}),r["default"].component("icon",He),r["default"].config.productionTip=!1,new r["default"]({router:dt,store:qe,render:function(t){return t(E)}}).$mount("#app")},d257:function(t,e,n){"use strict";function r(){return localStorage.getItem("token")}function a(t){localStorage.setItem("token",t)}function o(t){var e=/^1[0-9]{10}$/;return!!e.test(t)}n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},d38c:function(t,e,n){},d4be:function(t,e,n){"use strict";var r=n("e306"),a=n.n(r);a.a},e306:function(t,e,n){},e46b:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"good-list-wrap"},[n("ul",{staticClass:"good-list-box"},t._l(t.data,function(e){return n("li",{key:e._id,staticClass:"good-list-item"},[n("router-link",{attrs:{to:"/detail/"+e._id}},[n("div",{staticClass:"good-product"},[n("div",{staticClass:"good-img"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getThumb(e),expression:"getThumb(good)"}],staticClass:"lazy-img-fadein"})]),n("p",{staticClass:"good-text"},[t._v(t._s(e.title))]),n("div",{staticClass:"good-price"},[n("span",{staticClass:"price"},[t._v("¥"+t._s(e.purchasePrice))]),n("div",{staticClass:"good-tags"},[n("span",[t._v("30天质保")]),n("span",[t._v("支持验机")])])])])])],1)}),0)])},a=[],o=n("d225"),c=n("b0b4"),i=n("308d"),s=n("6bb5"),u=n("4e2b"),d=n("9ab4"),l=n("60a3"),f=function(t){function e(){return Object(o["a"])(this,e),Object(i["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(c["a"])(e,[{key:"getThumb",value:function(t){if(t.imgs&&t.imgs.length>0)return t.imgs[0].url}}]),e}(l["c"]);d["a"]([Object(l["b"])({type:Array,default:function(){return[]}})],f.prototype,"data",void 0),f=d["a"]([l["a"]],f);var p=f,m=p,h=(n("eee5"),n("2877")),b=Object(h["a"])(m,r,a,!1,null,"78bd550a",null);e["a"]=b.exports},edec:function(t,e,n){"use strict";var r=n("2484"),a=n.n(r);a.a},ee76:function(t,e,n){},eee5:function(t,e,n){"use strict";var r=n("5d10"),a=n.n(r);a.a}});
//# sourceMappingURL=app.7d39a256.js.map